<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>A The DIME Analytics Coding Guide | Development Research in Practice   The DIME Analytics Data Handbook</title>
  <meta name="description" content="The Development Research in Practice handbook is the quintessential desk reference for empirical researchers, policymakers, managers, and students. It provides an introduction to modern, transparent, and ethical research practices involving development data. The handbook outlines a complete research project, with links to the DIME Wiki and real-world examples." />
  <meta name="generator" content="bookdown 0.21.6 and GitBook 2.6.7" />

  <meta property="og:title" content="A The DIME Analytics Coding Guide | Development Research in Practice   The DIME Analytics Data Handbook" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://worldbank.github.io/dime-data-handbook/" />
  <meta property="og:image" content="https://worldbank.github.io/dime-data-handbook//img/cover.png" />
  <meta property="og:description" content="The Development Research in Practice handbook is the quintessential desk reference for empirical researchers, policymakers, managers, and students. It provides an introduction to modern, transparent, and ethical research practices involving development data. The handbook outlines a complete research project, with links to the DIME Wiki and real-world examples." />
  <meta name="github-repo" content="worldbank/dime-data-handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A The DIME Analytics Coding Guide | Development Research in Practice   The DIME Analytics Data Handbook" />
  
  <meta name="twitter:description" content="The Development Research in Practice handbook is the quintessential desk reference for empirical researchers, policymakers, managers, and students. It provides an introduction to modern, transparent, and ethical research practices involving development data. The handbook outlines a complete research project, with links to the DIME Wiki and real-world examples." />
  <meta name="twitter:image" content="https://worldbank.github.io/dime-data-handbook//img/cover.png" />

<meta name="author" content="Kristoffer Bjarkefur, Luiza Cardoso de Andrade, Benjamin Daniels, Maria Ruth Jones" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bringing-it-all-together.html"/>
<link rel="next" href="resources.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CQM54HNM1L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CQM54HNM1L');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Development Research in Practice <br> The DIME Analytics Data Handbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li><a href="index.html#published-by-dime-analytics">Published by <br> <span>DIME Analytics</span></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the authors</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="feedback.html"><a href="feedback.html"><i class="fa fa-check"></i>Feedback</a><ul>
<li class="chapter" data-level="" data-path="feedback.html"><a href="feedback.html#how-to-contribute"><i class="fa fa-check"></i>How to contribute</a></li>
<li class="chapter" data-level="" data-path="feedback.html"><a href="feedback.html#already-addressed-errata"><i class="fa fa-check"></i>Already addressed errata</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="abbreviations.html"><a href="abbreviations.html"><i class="fa fa-check"></i>Abbreviations</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-to-read-this-book"><i class="fa fa-check"></i>How to read this book</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#the-dime-wiki-a-complementary-resource"><i class="fa fa-check"></i>The DIME Wiki: A complementary resource</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#standardizing-data-work"><i class="fa fa-check"></i>Standardizing data work</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#standardizing-coding-practices"><i class="fa fa-check"></i>Standardizing coding practices</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#the-team-behind-this-book"><i class="fa fa-check"></i>The team behind this book</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#looking-ahead"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="reproducibility.html"><a href="reproducibility.html"><i class="fa fa-check"></i><b>1</b> Conducting reproducible, transparent, and credible research</a><ul>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#developing-a-credible-research-project"><i class="fa fa-check"></i>Developing a credible research project</a><ul>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#registering-research-studies"><i class="fa fa-check"></i>Registering research studies</a></li>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#writing-pre-analysis-plans"><i class="fa fa-check"></i>Writing pre-analysis plans</a></li>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#publishing-registered-reports"><i class="fa fa-check"></i>Publishing registered reports</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#conducting-research-transparently"><i class="fa fa-check"></i>Conducting research transparently</a><ul>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#documenting-data-acquisition-and-analysis"><i class="fa fa-check"></i>Documenting data acquisition and analysis</a></li>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#cataloging-and-archiving-data"><i class="fa fa-check"></i>Cataloging and archiving data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#analyzing-data-reproducibly"><i class="fa fa-check"></i>Analyzing data reproducibly</a><ul>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#preparing-a-reproducibility-package"><i class="fa fa-check"></i>Preparing a reproducibility package</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reproducibility.html"><a href="reproducibility.html#looking-ahead-1"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="collaboration.html"><a href="collaboration.html"><i class="fa fa-check"></i><b>2</b> Setting the stage for effective and efficient collaboration</a><ul>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#preparing-a-collaborative-work-environment"><i class="fa fa-check"></i>Preparing a collaborative work environment</a><ul>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#setting-up-your-computer"><i class="fa fa-check"></i>Setting up your computer</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#establishing-effective-documentation-practices"><i class="fa fa-check"></i>Establishing effective documentation practices</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#setting-up-your-code-environment"><i class="fa fa-check"></i>Setting up your code environment</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#organizing-code-and-data-for-replicable-research"><i class="fa fa-check"></i>Organizing code and data for replicable research</a><ul>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#organizing-files-and-folders"><i class="fa fa-check"></i>Organizing files and folders</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#establishing-common-file-formats"><i class="fa fa-check"></i>Establishing common file formats</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#using-version-control"><i class="fa fa-check"></i>Using version control</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#writing-code-that-others-can-read"><i class="fa fa-check"></i>Writing code that others can read</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#writing-code-that-others-can-run"><i class="fa fa-check"></i>Writing code that others can run</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#preparing-to-handle-confidential-data-ethically"><i class="fa fa-check"></i>Preparing to handle confidential data ethically</a><ul>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#seeking-ethical-approval"><i class="fa fa-check"></i>Seeking ethical approval</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#obtaining-informed-consent"><i class="fa fa-check"></i>Obtaining informed consent</a></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#ensuring-research-subject-privacy"><i class="fa fa-check"></i>Ensuring research subject privacy</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="collaboration.html"><a href="collaboration.html#looking-ahead-2"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="measurement.html"><a href="measurement.html"><i class="fa fa-check"></i><b>3</b> Establishing a measurement framework</a><ul>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#documenting-data-needs"><i class="fa fa-check"></i>Documenting data needs</a><ul>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#developing-a-data-linkage-table"><i class="fa fa-check"></i>Developing a data linkage table</a></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#constructing-master-datasets"><i class="fa fa-check"></i>Constructing master datasets</a></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#creating-data-flowcharts"><i class="fa fa-check"></i>Creating data flowcharts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#translating-research-design-to-data-needs"><i class="fa fa-check"></i>Translating research design to data needs</a><ul>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#applying-common-research-designs-to-data"><i class="fa fa-check"></i>Applying common research designs to data</a></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#including-multiple-time-periods"><i class="fa fa-check"></i>Including multiple time periods</a></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#incorporating-monitoring-data"><i class="fa fa-check"></i>Incorporating monitoring data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#creating-research-design-variables-by-randomization"><i class="fa fa-check"></i>Creating research design variables by randomization</a><ul>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#randomizing-sampling-and-treatment-assignment"><i class="fa fa-check"></i>Randomizing sampling and treatment assignment</a></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#programming-reproducible-random-processes"><i class="fa fa-check"></i>Programming reproducible random processes</a></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#implementing-clustered-or-stratified-designs"><i class="fa fa-check"></i>Implementing clustered or stratified designs</a></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#performing-power-calculations"><i class="fa fa-check"></i>Performing power calculations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#looking-ahead-3"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="acquisition.html"><a href="acquisition.html"><i class="fa fa-check"></i><b>4</b> Acquiring development data</a><ul>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#acquiring-data-ethically-and-reproducibly"><i class="fa fa-check"></i>Acquiring data ethically and reproducibly</a><ul>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#determining-data-ownership"><i class="fa fa-check"></i>Determining data ownership</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#obtaining-data-licenses"><i class="fa fa-check"></i>Obtaining data licenses</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#documenting-data-received-from-partners"><i class="fa fa-check"></i>Documenting data received from partners</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#collecting-high-quality-data-using-electronic-surveys"><i class="fa fa-check"></i>Collecting high-quality data using electronic surveys</a><ul>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#designing-survey-instruments"><i class="fa fa-check"></i>Designing survey instruments</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#piloting-survey-instruments"><i class="fa fa-check"></i>Piloting survey instruments</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#programming-electronic-survey-instruments"><i class="fa fa-check"></i>Programming electronic survey instruments</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#using-electronic-survey-features-to-enhance-data-quality"><i class="fa fa-check"></i>Using electronic survey features to enhance data quality</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#training-enumerators"><i class="fa fa-check"></i>Training enumerators</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#checking-data-quality-in-real-time"><i class="fa fa-check"></i>Checking data quality in real time</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#handling-data-securely"><i class="fa fa-check"></i>Handling data securely</a><ul>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#encrypting-data"><i class="fa fa-check"></i>Encrypting data</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#collecting-and-storing-data-securely"><i class="fa fa-check"></i>Collecting and storing data securely</a></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#backing-up-original-data"><i class="fa fa-check"></i>Backing up original data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html#looking-ahead-4"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="processing.html"><a href="processing.html"><i class="fa fa-check"></i><b>5</b> Cleaning and processing research data</a><ul>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#making-data-tidy"><i class="fa fa-check"></i>Making data “tidy”</a><ul>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#establishing-a-unique-identifier"><i class="fa fa-check"></i>Establishing a unique identifier</a></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#tidying-data"><i class="fa fa-check"></i>Tidying data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#assuring-data-quality"><i class="fa fa-check"></i>Assuring data quality</a><ul>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#implementing-data-quality-checks"><i class="fa fa-check"></i>Implementing data quality checks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#processing-confidential-data"><i class="fa fa-check"></i>Processing confidential data</a><ul>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#protecting-research-subject-privacy"><i class="fa fa-check"></i>Protecting research subject privacy</a></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#implementing-de-identification"><i class="fa fa-check"></i>Implementing de-identification</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#cleaning-and-preparing-data-for-analysis"><i class="fa fa-check"></i>Cleaning and preparing data for analysis</a><ul>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#exploring-the-data"><i class="fa fa-check"></i>Exploring the data</a></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#correcting-data-points"><i class="fa fa-check"></i>Correcting data points</a></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#recoding-and-annotating-data"><i class="fa fa-check"></i>Recoding and annotating data</a></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#documenting-data-cleaning"><i class="fa fa-check"></i>Documenting data cleaning</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="processing.html"><a href="processing.html#looking-ahead-5"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>6</b> Constructing and analyzing research data</a><ul>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#creating-analysis-datasets"><i class="fa fa-check"></i>Creating analysis datasets</a><ul>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#organizing-data-analysis-workflows"><i class="fa fa-check"></i>Organizing data analysis workflows</a></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#integrating-multiple-data-sources"><i class="fa fa-check"></i>Integrating multiple data sources</a></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#creating-analysis-variables"><i class="fa fa-check"></i>Creating analysis variables</a></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#documenting-variable-construction"><i class="fa fa-check"></i>Documenting variable construction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#writing-analysis-code"><i class="fa fa-check"></i>Writing analysis code</a><ul>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#organizing-analysis-code"><i class="fa fa-check"></i>Organizing analysis code</a></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#visualizing-data"><i class="fa fa-check"></i>Visualizing data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#creating-reproducible-tables-and-graphs"><i class="fa fa-check"></i>Creating reproducible tables and graphs</a><ul>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#managing-outputs"><i class="fa fa-check"></i>Managing outputs</a></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#exporting-analysis-outputs"><i class="fa fa-check"></i>Exporting analysis outputs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#increasing-efficiency-of-analysis-with-dynamic-documents"><i class="fa fa-check"></i>Increasing efficiency of analysis with dynamic documents</a><ul>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#conducting-dynamic-exploratory-analysis"><i class="fa fa-check"></i>Conducting dynamic exploratory analysis</a></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#using-latex-for-dynamic-research-outputs"><i class="fa fa-check"></i>Using LaTeX for dynamic research outputs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#looking-ahead-6"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="publication.html"><a href="publication.html"><i class="fa fa-check"></i><b>7</b> Publishing reproducible research outputs</a><ul>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#publishing-research-papers-and-reports"><i class="fa fa-check"></i>Publishing research papers and reports</a><ul>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#using-latex-for-written-documents"><i class="fa fa-check"></i>Using LaTeX for written documents</a></li>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#getting-started-with-latex-as-a-team"><i class="fa fa-check"></i>Getting started with LaTeX as a team</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#preparing-research-data-for-publication"><i class="fa fa-check"></i>Preparing research data for publication</a><ul>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#de-identifying-data-for-publication"><i class="fa fa-check"></i>De-identifying data for publication</a></li>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#publishing-research-datasets"><i class="fa fa-check"></i>Publishing research datasets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#publishing-a-reproducible-research-package"><i class="fa fa-check"></i>Publishing a reproducible research package</a><ul>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#organizing-code-for-reproducibility"><i class="fa fa-check"></i>Organizing code for reproducibility</a></li>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#releasing-a-reproducibility-package"><i class="fa fa-check"></i>Releasing a reproducibility package</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="publication.html"><a href="publication.html#looking-ahead-7"><i class="fa fa-check"></i>Looking ahead</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bringing-it-all-together.html"><a href="bringing-it-all-together.html"><i class="fa fa-check"></i>Bringing it all together</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="coding.html"><a href="coding.html"><i class="fa fa-check"></i><b>A</b> The DIME Analytics Coding Guide</a><ul>
<li class="chapter" data-level="" data-path="coding.html"><a href="coding.html#writing-good-code"><i class="fa fa-check"></i>Writing good code</a></li>
<li class="chapter" data-level="" data-path="coding.html"><a href="coding.html#using-the-code-examples-in-this-book"><i class="fa fa-check"></i>Using the code examples in this book</a></li>
<li class="chapter" data-level="" data-path="coding.html"><a href="coding.html#the-dime-analytics-stata-style-guide"><i class="fa fa-check"></i>The DIME Analytics Stata Style Guide</a><ul>
<li class="chapter" data-level="A.0.1" data-path="coding.html"><a href="coding.html#commenting-code"><i class="fa fa-check"></i><b>A.0.1</b> Commenting code</a></li>
<li class="chapter" data-level="A.0.2" data-path="coding.html"><a href="coding.html#abbreviating-commands"><i class="fa fa-check"></i><b>A.0.2</b> Abbreviating commands</a></li>
<li class="chapter" data-level="A.0.3" data-path="coding.html"><a href="coding.html#abbreviating-variable-names"><i class="fa fa-check"></i><b>A.0.3</b> Abbreviating variable names</a></li>
<li class="chapter" data-level="A.0.4" data-path="coding.html"><a href="coding.html#writing-loops"><i class="fa fa-check"></i><b>A.0.4</b> Writing loops</a></li>
<li class="chapter" data-level="A.0.5" data-path="coding.html"><a href="coding.html#using-whitespace"><i class="fa fa-check"></i><b>A.0.5</b> Using whitespace</a></li>
<li class="chapter" data-level="A.0.6" data-path="coding.html"><a href="coding.html#writing-conditional-expressions"><i class="fa fa-check"></i><b>A.0.6</b> Writing conditional expressions</a></li>
<li class="chapter" data-level="A.0.7" data-path="coding.html"><a href="coding.html#writing-file-paths"><i class="fa fa-check"></i><b>A.0.7</b> Writing file paths</a></li>
<li class="chapter" data-level="A.0.8" data-path="coding.html"><a href="coding.html#line-breaks"><i class="fa fa-check"></i><b>A.0.8</b> Line breaks</a></li>
<li class="chapter" data-level="A.0.9" data-path="coding.html"><a href="coding.html#using-boilerplate-code"><i class="fa fa-check"></i><b>A.0.9</b> Using boilerplate code</a></li>
<li class="chapter" data-level="A.0.10" data-path="coding.html"><a href="coding.html#miscellaneous-notes"><i class="fa fa-check"></i><b>A.0.10</b> Miscellaneous notes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>B</b> DIME Analytics Resource Directory</a><ul>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html#public-resources-and-tools"><i class="fa fa-check"></i>Public resources and tools</a></li>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html#flagship-training-courses"><i class="fa fa-check"></i>Flagship training courses</a></li>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html#software-tools-and-trainings"><i class="fa fa-check"></i>Software tools and trainings</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="design.html"><a href="design.html"><i class="fa fa-check"></i><b>C</b> Research design for impact evaluation</a><ul>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#understanding-causality-inference-and-identification"><i class="fa fa-check"></i>Understanding causality, inference, and identification</a><ul>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#estimating-treatment-effects-using-control-groups"><i class="fa fa-check"></i>Estimating treatment effects using control groups</a></li>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#designing-experimental-and-quasi-experimental-research"><i class="fa fa-check"></i>Designing experimental and quasi-experimental research</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#obtaining-treatment-effects-from-specific-research-designs"><i class="fa fa-check"></i>Obtaining treatment effects from specific research designs</a><ul>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#cross-sectional-designs"><i class="fa fa-check"></i>Cross-sectional designs</a></li>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#difference-in-differences"><i class="fa fa-check"></i>Difference-in-differences</a></li>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#regression-discontinuity"><i class="fa fa-check"></i>Regression discontinuity</a></li>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#instrumental-variables"><i class="fa fa-check"></i>Instrumental variables</a></li>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#matching"><i class="fa fa-check"></i>Matching</a></li>
<li class="chapter" data-level="" data-path="design.html"><a href="design.html#synthetic-control"><i class="fa fa-check"></i>Synthetic control</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i>Bibliography</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Development Research in Practice <br> The DIME Analytics Data Handbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="coding" class="section level1">
<h1><span class="header-section-number">A</span> The DIME Analytics Coding Guide</h1>
<p>Most academic programs that prepare students for a career
in the type of work discussed in this book
spend a disproportionately small amount of time
teaching their students coding skills
in relation to the share of their professional time
they will spend writing code
in their first few years after they graduate.
Recent masters-level graduates joining our team
have shown very good theoretical knowledge
while requiring a lot of training in practical skills.
To us, this is like an architecture graduate having learned
how to sketch, describe, and discuss
the concepts and requirements of a new building very well –
but without the technical ability
to contribute to a blueprint following professional standards
that can be used and understood by others.
The reasons for this are a topic for another book,
but in today’s data-driven world,
people working in quantitative development research
must be proficient collaborative programmers,
and that includes more than being able to compute correct numbers.</p>
<p>This appendix begins with a section on some general and language-agnostic
principles on how to write “good” code.
Good code is code that both generates correct results <em>and</em>
is easily read and adapted by other professionals.
The second section in this appendix contains instructions
on how to access and use the code examples in this book.
The last section contains the DIME Analytics Stata Style Guide.
Widely accepted and used style guides are common in most programming languages,
but we have never found a sufficiently encompassing style guide for Stata.
We created this style guide having in mind practices that,
in our experience, greatly improve the quality
of research projects coded in Stata.
We hope that this guide can help increase the emphasis
given to using, improving, sharing, and standardizing code style
among the Stata community.
We believe these resources can help anyone write more understandable code,
and how you, like an architect,
can create a blueprint that can be understood and used
by everyone in your trade.</p>
<div id="writing-good-code" class="section level2 unnumbered">
<h2>Writing good code</h2>
<p>“Good” code has two elements:
(1) it is correct, in that it doesn’t produce any errors
and its outputs are the objects intended,
and (2) it is useful and comprehensible
to someone who hasn’t seen it before
(or even someone who has, weeks, months, or years later).
Many researchers have only been trained to code correctly.
But we believe that when your code runs on your computer
and you get the desired results,
you are only half-done writing <em>good</em> code.
Good code is easy to read and replicate,
making it easier to spot mistakes.
Good code reduces sampling, randomization, and cleaning errors.
Good code can easily be reviewed by others
before it’s published and can be re-used afterwards.
We always tell people to “code as if a stranger is reading it”.</p>
<p>You should think of good code in terms of three major elements:
<strong>structure</strong>, <strong>syntax</strong>, and <strong>style</strong>.
The <strong>structure</strong> is the environment
and file organization your code lives in:
good structure means that it is easy to find individual pieces of code,
within and across files,
that correspond to specific tasks and outputs.
It also means that functional code blocks
are sufficiently independent from each other
such that they can be shuffled around, repurposed,
and even deleted without affecting the execution of other portions.
The <strong>syntax</strong> is the literal language of your code.
Good syntax means that your code is readable
in terms of how its mechanics implement ideas –
it should not require arcane reverse-engineering
to figure out what a code chunk is trying to do.
It should use common commands in a generally accepted way
so others can easily follow and reconstruct your intentions.
Finally, <strong>style</strong> is the way
that the non-functional elements of your code convey its purpose.
Elements like spacing, indentation,
and naming conventions (or lack thereof)
can make your code much more
(or much less) accessible to someone
who is reading it for the first time
and needs to understand it quickly and accurately.</p>
<p>One key tool for writing good code is using help documentation.
Whether or not you are new to the programming language you are using
– Stata, R, Python, or one of the many others –
you should constantly revisit help files for the most common commands.
Often you will learn they can do something you never realized.
We cannot emphasize enough how important it is
that you get into the habit of reading help files,
especially for commands you are very familiar with.
Most of us have a help file window open at all times.
Similarly, you will always run into commands or uses of commands that
you have not seen before or whose functionality you do not remember.
Every time that happens,
you should look up the help file for that command.
We often encounter the conception that help files are only for beginners.
We could not disagree with that conception more.
The only way to get better at the programming language you use
is to constantly read help files.</p>
</div>
<div id="using-the-code-examples-in-this-book" class="section level2 unnumbered">
<h2>Using the code examples in this book</h2>
<p>Providing some standardization for Stata code style
is also a goal of our team.
Stata is one of several programming languages used at DIME,
but since few high-quality resources based on Stata exist
relative to its importance and frequency of use,
we decided to use Stata for the examples in this book.
This book includes several code blocks
where we demonstrate a good code execution
of some of the most common tasks in data work.
We have ensured that each code block runs independently,
is well-formatted,
and uses built-in commands as much as possible.
We hope that these snippets will provide a foundation for your code style.
We try to comment code examples generously (as you should),
and you should reference Stata help files by writing <code>help [command]</code>
whenever you do not understand the command that is being used.
For example, if you are not familiar with <code>isid</code>,
then write <code>help isid</code>,
and the help file for the command <code>isid</code> will open.
You should do this even if you know <code>isid</code>
but has not read the help file for that command in a while,
as there is always something new to learn.</p>
<p>In the book, code examples are presented like the following:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource stata numberLines"><code class="sourceCode stata"><span id="cb5-1"><a href="coding.html#cb5-1"></a>* Load the auto dataset</span>
<span id="cb5-2"><a href="coding.html#cb5-2"></a>    <span class="kw">sysuse</span> auto.dta , <span class="kw">clear</span></span>
<span id="cb5-3"><a href="coding.html#cb5-3"></a></span>
<span id="cb5-4"><a href="coding.html#cb5-4"></a>* Run a simple regression</span>
<span id="cb5-5"><a href="coding.html#cb5-5"></a>    <span class="kw">reg</span> price mpg rep78 headroom , coefl</span>
<span id="cb5-6"><a href="coding.html#cb5-6"></a></span>
<span id="cb5-7"><a href="coding.html#cb5-7"></a>* Transpose and <span class="kw">store</span> the output</span>
<span id="cb5-8"><a href="coding.html#cb5-8"></a>    <span class="fu">matrix</span> results = <span class="fu">r</span>(<span class="kw">table</span>)&#39;</span>
<span id="cb5-9"><a href="coding.html#cb5-9"></a></span>
<span id="cb5-10"><a href="coding.html#cb5-10"></a>* Load the results into <span class="dv">memory</span></span>
<span id="cb5-11"><a href="coding.html#cb5-11"></a>    <span class="kw">clear</span></span>
<span id="cb5-12"><a href="coding.html#cb5-12"></a>    <span class="kw">svmat</span> results , n(col)</span></code></pre></div>
<p>You can access the raw code used in examples in this book in several ways.
We use GitHub to version control all the content of this book,
including the code examples.
To see the code examples on GitHub, go to
<a href="https://github.com/worldbank/dime-data-handbook/tree/master/code" class="uri">https://github.com/worldbank/dime-data-handbook/tree/master/code</a>.
We only use Stata’s built-in datasets in our code examples,
so you do not need to download any data.
If you have Stata installed on your computer,
then you will already have the data files used in the code.</p>
<p>A less technical way to access the code
is to click the individual file in the URL above, then click
the button that says <strong>Raw</strong>.
You will then get to a page that looks like the one at
<a href="https://raw.githubusercontent.com/worldbank/dime-data-handbook/master/code/code.do" class="uri">https://raw.githubusercontent.com/worldbank/dime-data-handbook/master/code/code.do</a>.
There, you can copy the code
from your browser window to your do-file editor with the formatting intact.
This method is only practical for a single file at a time.
If you want to download all code used in this book, you can do that at
<a href="https://github.com/worldbank/dime-data-handbook/archive/master.zip" class="uri">https://github.com/worldbank/dime-data-handbook/archive/master.zip</a>.
That link downloads a <code>.zip</code> file
with all the content used in writing this book,
including the LaTeX code used for the book itself.
After extracting the .zip-file you will find all the code in a folder called <code>/code/</code>.</p>
<p>While we use built-in commands as much as possible in this book,
we point to user-written commands when they provide important new functionality.
In particular, we point to two suites of Stata commands developed by DIME Analytics,
<code>ietoolkit</code><a href="#fn300" class="footnote-ref" id="fnref300"><sup>300</sup></a>
and <code>iefieldkit</code>,<a href="#fn301" class="footnote-ref" id="fnref301"><sup>301</sup></a>
which DIME Analytics wrote to standardize
core data collection, management, and analysis workflows.</p>
<p>When you encounter code that employs user-written commands,
you will not be able to run them or read their help files
until you have installed the commands.
The most common place to distribute user-written commands for Stata
is the Boston College Statistical Software Components (SSC) archive.<a href="#fn302" class="footnote-ref" id="fnref302"><sup>302</sup></a>
The user-written commands in our code example are all from the SSC archive.
So, if your installation of Stata does not recognize a command in our code, for example
<code>randtreat</code>, then type <code>ssc install randtreat</code> in Stata.</p>
<p>Some commands on SSC are distributed in packages.
This is the case, for example, of <code>ieboilstart</code>.
That means that you will not be able to install it using <code>ssc install ieboilstart</code>.
If you do, Stata will suggest that you instead use <code>findit ieboilstart</code>,
which will search SSC (among other places) and see if there is a
package that contains a command called <code>ieboilstart</code>.
Stata will find <code>ieboilstart</code> in the package <code>ietoolkit</code>,
so to use this command you will type <code>ssc install ietoolkit</code> in Stata instead.</p>
<p>We understand that it can be confusing to work with packages for first time,
but this is the best way to set up your Stata installation to benefit from other
people’s work that has been made publicly available.
Once you get used to installing commands like this it will not be confusing at all.
All code with user-written commands, furthermore, is best written when it installs such commands
at the beginning of the master do-file,
so that the user does not have to search for packages manually.</p>
</div>
<div id="the-dime-analytics-stata-style-guide" class="section level2 unnumbered">
<h2>The DIME Analytics Stata Style Guide</h2>
<p>Programming languages used in computer science
always have style guides associated with them.
Sometimes they are official guides that are universally agreed upon,
such as <a href="https://www.python.org/dev/peps/pep-0008">PEP8</a> for Python.
More commonly, there are well-recognized but
non-official style guides like the <a href="https://standardjs.com/#the-rules">JavaScript Standard Style</a>
for JavaScript or <a href="https://style.tidyverse.org/syntax.html">Hadley Wickham’s style guide for R</a>.
Google, for example, maintains <a href="(https://github.com/google/styleguide)">its own style guides</a> for all languages
that are used in its projects.</p>
<p>Aesthetics is an important part of style guides, but not the main point.
Neither is telling you which commands to use:
there are plenty of guides to Stata’s extensive functionality.
The important function is to allow programmers who are likely to work together
to share conventions and understandings of what the code is doing.
Style guides therefore help improve the quality of the code
in that language that is produced by all programmers in a community.
It is through a shared style that newer programmers can learn from more experienced programmers
how certain coding practices are more or less error-prone.
Broadly-accepted style conventions make it easier to borrow solutions
from each other and from examples online
without causing bugs that might only be found too late.
Similarly, globally standardized style guides make it easier to solve each others’
problems and to collaborate or move from project to project,
and from team to team.</p>
<p>There is room for personal preference in style guides,
but style guides are first and foremost about quality and standardization –
especially when collaborating on code.
We believe that a commonly used Stata style guide
would improve the quality of all code written in Stata,
which is why we have begun the one included here.
You do not necessarily need to follow our style guide precisely.
We encourage you to write your own style guide if you disagree with us.
The best style guide would be the one adopted the most widely.
All style rules introduced in this section are the way we suggest to code,
but the most important thing is that the way you style your code is <em>consistent</em>.
This guide allows our team to have a consistent code style.</p>
<div id="commenting-code" class="section level3">
<h3><span class="header-section-number">A.0.1</span> Commenting code</h3>
<p>Comments do not change the output of code, but without them,
your code will not be accessible to your colleagues.
It will also take you a much longer time to edit code you wrote in the past if you did not comment it well.
So, comment a lot: do not only write <em>what</em> your code is doing
but also <em>why</em> you wrote it like the way you did.
In general, try to write simpler code that needs less explanation,
even if you could use an elegant and complex method in less space,
unless the advanced method is a widely accepted one.</p>
<p>There are three types of comments in Stata and they have different purposes:</p>
<div id="commenting-multiple-lines" class="section level4 unnumbered">
<h4>Commenting multiple lines</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb6-1"><a href="coding.html#cb6-1"></a><span class="co">/*</span></span>
<span id="cb6-2"><a href="coding.html#cb6-2"></a><span class="co">    This is a do-file with examples of comments in Stata. This</span></span>
<span id="cb6-3"><a href="coding.html#cb6-3"></a><span class="co">    type of comment is used to document all of the do-file or a large</span></span>
<span id="cb6-4"><a href="coding.html#cb6-4"></a><span class="co">    section of it</span></span>
<span id="cb6-5"><a href="coding.html#cb6-5"></a><span class="co">*/</span></span></code></pre></div>
</div>
<div id="commenting-a-single-line" class="section level4 unnumbered">
<h4>Commenting a single line</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb7-1"><a href="coding.html#cb7-1"></a>* Standardize settings, explicitly <span class="kw">set</span> <span class="kw">version</span>, and <span class="kw">clear</span> <span class="dv">memory</span></span>
<span id="cb7-2"><a href="coding.html#cb7-2"></a>* (This comment is used to document a task covering <span class="fu">at</span> maximum a few lines <span class="kw">of</span> code)</span>
<span id="cb7-3"><a href="coding.html#cb7-3"></a>    ieboilstart, <span class="kw">version</span>(13.1)</span>
<span id="cb7-4"><a href="coding.html#cb7-4"></a>    <span class="ot">`r(version)&#39;</span></span></code></pre></div>
</div>
<div id="inline-comments" class="section level4 unnumbered">
<h4>Inline comments</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb8-1"><a href="coding.html#cb8-1"></a>* Open the dataset</span>
<span id="cb8-2"><a href="coding.html#cb8-2"></a>    <span class="kw">sysuse</span> auto.dta <span class="co">// Built in dataset (This comment is used to document a single line)</span></span></code></pre></div>
</div>
</div>
<div id="abbreviating-commands" class="section level3">
<h3><span class="header-section-number">A.0.2</span> Abbreviating commands</h3>
<p>Stata commands can often be abbreviated in the code.
You can tell if a command can be abbreviated if the help file indicates
an abbreviation by underlining part of the name in the syntax section at the top.
Only built-in commands can be abbreviated; user-written commands cannot.
(Many commands additionally allow abbreviations of options:
these are always acceptable at the shortest allowed abbreviation.)
Although Stata allows some commands to be abbreviated to one or two characters,
this can be confusing – two-letter abbreviations can rarely be “pronounced”
in an obvious way that connects them to the functionality of the full command.
Therefore, command abbreviations in code should not be shorter than three characters,
with the exception of <code>tw</code> for <code>twoway</code> and <code>di</code> for <code>display</code>,
and abbreviations should only be used when widely a accepted abbreviation exists.
We do not abbreviate <code>local</code>, <code>global</code>, <code>save</code>, <code>merge</code>, <code>append</code>, or <code>sort</code>.
The following is a list of accepted abbreviations of common Stata commands:</p>
<table>
<thead>
<tr class="header">
<th>Abbreviation</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>tw</code></td>
<td><code>twoway</code></td>
</tr>
<tr class="even">
<td><code>di</code></td>
<td><code>display</code></td>
</tr>
<tr class="odd">
<td><code>gen</code></td>
<td><code>generate</code></td>
</tr>
<tr class="even">
<td><code>mat</code></td>
<td><code>matrix</code></td>
</tr>
<tr class="odd">
<td><code>reg</code></td>
<td><code>regress</code></td>
</tr>
<tr class="even">
<td><code>lab</code></td>
<td><code>label</code></td>
</tr>
<tr class="odd">
<td><code>sum</code></td>
<td><code>summarize</code></td>
</tr>
<tr class="even">
<td><code>tab</code></td>
<td><code>tabulate</code></td>
</tr>
<tr class="odd">
<td><code>bys</code></td>
<td><code>bysort</code></td>
</tr>
<tr class="even">
<td><code>qui</code></td>
<td><code>quietly</code></td>
</tr>
<tr class="odd">
<td><code>noi</code></td>
<td><code>noisily</code></td>
</tr>
<tr class="even">
<td><code>cap</code></td>
<td><code>capture</code></td>
</tr>
<tr class="odd">
<td><code>forv</code></td>
<td><code>forvalues</code></td>
</tr>
<tr class="even">
<td><code>prog</code></td>
<td><code>program</code></td>
</tr>
<tr class="odd">
<td><code>hist</code></td>
<td><code>histogram</code></td>
</tr>
</tbody>
</table>
</div>
<div id="abbreviating-variable-names" class="section level3">
<h3><span class="header-section-number">A.0.3</span> Abbreviating variable names</h3>
<p>Never abbreviate variable names. Instead, write them out completely.
Your code may change if a variable is later introduced
that has a name exactly as in the abbreviation.
<code>ieboilstart</code> executes the command <code>set varabbrev off</code> by default,
and will therefore break any code using variable abbreviations.</p>
<p>Using wildcards and lists in Stata for variable lists
(<code>*</code>, <code>?</code>, and <code>-</code>) is also discouraged,
because the functionality of the code may change
if the dataset is changed or even simply reordered.
If you intend explicitly to capture all variables of a certain type,
prefer <code>unab</code> or <code>lookfor</code> to build that list in a local macro,
which can then be checked to have the right variables in the right order.</p>
</div>
<div id="writing-loops" class="section level3">
<h3><span class="header-section-number">A.0.4</span> Writing loops</h3>
<p>In Stata examples and other code languages, it is common for the name of the local
generated by <code>foreach</code> or <code>forvalues</code>
to be something as simple as <code>i</code> or <code>j</code>. In Stata, however,
loops generally index a real object, and looping commands should name that index descriptively.
One-letter indices are acceptable only for general examples;
for looping through <strong>iterations</strong> with <code>i</code>;
and for looping across matrices with <code>i</code>, <code>j</code>.
Instead, index names should describe what the code is looping over –
for example household members, crops, or medicines.
Even counters should be explicitly named.
This makes code much more readable, particularly in nested loops.</p>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb9-1"><a href="coding.html#cb9-1"></a>* Loop <span class="bn">over</span> crops</span>
<span id="cb9-2"><a href="coding.html#cb9-2"></a><span class="kw">foreach</span> crop <span class="kw">in</span> potato cassava maize {</span>
<span id="cb9-3"><a href="coding.html#cb9-3"></a>  * <span class="kw">do</span> something to <span class="ot">`crop&#39;</span></span>
<span id="cb9-4"><a href="coding.html#cb9-4"></a>}</span></code></pre></div>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb10-1"><a href="coding.html#cb10-1"></a>* Loop <span class="bn">over</span> crops</span>
<span id="cb10-2"><a href="coding.html#cb10-2"></a><span class="kw">local</span> crops potato cassava maize</span>
<span id="cb10-3"><a href="coding.html#cb10-3"></a>  <span class="kw">foreach</span> crop <span class="kw">of</span> <span class="kw">local</span> crops {</span>
<span id="cb10-4"><a href="coding.html#cb10-4"></a>        * Loop <span class="bn">over</span> plot number</span>
<span id="cb10-5"><a href="coding.html#cb10-5"></a>        <span class="kw">forvalues</span> plot_num = 1/10 {</span>
<span id="cb10-6"><a href="coding.html#cb10-6"></a>          * <span class="kw">do</span> something to <span class="ot">`crop&#39;</span> <span class="kw">in</span> <span class="ot">`plot_num&#39;</span></span>
<span id="cb10-7"><a href="coding.html#cb10-7"></a>        } <span class="co">// End plot loop</span></span>
<span id="cb10-8"><a href="coding.html#cb10-8"></a>  } <span class="co">// End crop loop</span></span></code></pre></div>
<p><strong>BAD:</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb11-1"><a href="coding.html#cb11-1"></a>* Loop <span class="bn">over</span> crops</span>
<span id="cb11-2"><a href="coding.html#cb11-2"></a><span class="kw">foreach</span> i <span class="kw">in</span> potato cassava maize {</span>
<span id="cb11-3"><a href="coding.html#cb11-3"></a>   * <span class="kw">do</span> something to <span class="ot">`i&#39;</span></span>
<span id="cb11-4"><a href="coding.html#cb11-4"></a>}</span></code></pre></div>
</div>
<div id="using-whitespace" class="section level3">
<h3><span class="header-section-number">A.0.5</span> Using whitespace</h3>
<p>In Stata, adding one or many spaces does not make a difference to code execution,
and this can be used to make the code much more readable.
We are all very well trained in using whitespace in software like PowerPoint and Excel:
we would never present a PowerPoint presentation where the text does not align
or submit an Excel table with unstructured rows and columns.
The same principles apply to coding.
In the example below the exact same code is written twice,
but in the better example whitespace is used to signal to the reader
that the central object of this segment of code is the variable <code>employed</code>.
Organizing the code like this makes it much quicker to read,
and small typos stand out more, making them easier to spot.</p>
<p><strong>ACCEPTABLE:</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb12-1"><a href="coding.html#cb12-1"></a>* Create dummy <span class="kw">for</span> being employed</span>
<span id="cb12-2"><a href="coding.html#cb12-2"></a><span class="kw">gen</span> employed = 1</span>
<span id="cb12-3"><a href="coding.html#cb12-3"></a><span class="kw">replace</span> employed = 0 <span class="kw">if</span> (<span class="dt">_merge</span> == 2)</span>
<span id="cb12-4"><a href="coding.html#cb12-4"></a>lab <span class="kw">var</span> employed <span class="st">&quot;Person exists in employment data&quot;</span></span>
<span id="cb12-5"><a href="coding.html#cb12-5"></a>lab def yesno 1 <span class="st">&quot;Yes&quot;</span> 0 <span class="st">&quot;No&quot;</span></span>
<span id="cb12-6"><a href="coding.html#cb12-6"></a>lab val employed yesno</span></code></pre></div>
<p><strong>BETTER:</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb13-1"><a href="coding.html#cb13-1"></a>* Create dummy <span class="kw">for</span> being employed</span>
<span id="cb13-2"><a href="coding.html#cb13-2"></a><span class="kw">gen</span>      employed = 1</span>
<span id="cb13-3"><a href="coding.html#cb13-3"></a><span class="kw">replace</span>  employed = 0 <span class="kw">if</span> (<span class="dt">_merge</span> == 2)</span>
<span id="cb13-4"><a href="coding.html#cb13-4"></a>lab <span class="kw">var</span>  employed <span class="st">&quot;Person exists in employment data&quot;</span></span>
<span id="cb13-5"><a href="coding.html#cb13-5"></a>lab def           yesno 1 <span class="st">&quot;Yes&quot;</span> 0 <span class="st">&quot;No&quot;</span></span>
<span id="cb13-6"><a href="coding.html#cb13-6"></a>lab val  employed yesno</span></code></pre></div>
<p>Indentation is another type of whitespace that makes code more readable.
Any segment of code that is repeated in a loop or conditional on an
<code>if</code>-statement should have indentation of 4 spaces relative
to both the loop or conditional statement as well as the closing curly brace.
Similarly, continuing lines of code should be indented under the initial command.
If a segment is in a loop inside a loop, then it should be indented another 4 spaces,
making it 8 spaces more indented than the main code.
In some code editors this indentation can be achieved by using the tab button.
However, the type of tab used in the Stata do-file editor does not always display the same across platforms,
such as when publishing the code on GitHub.
Therefore we recommend that indentation be 4 manual spaces instead of a tab.</p>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb14-1"><a href="coding.html#cb14-1"></a>* Loop <span class="bn">over</span> crops</span>
<span id="cb14-2"><a href="coding.html#cb14-2"></a><span class="kw">foreach</span> crop <span class="kw">in</span> potato cassava maize {</span>
<span id="cb14-3"><a href="coding.html#cb14-3"></a></span>
<span id="cb14-4"><a href="coding.html#cb14-4"></a>    * Loop <span class="bn">over</span> plot number</span>
<span id="cb14-5"><a href="coding.html#cb14-5"></a>    <span class="kw">forvalues</span> plot_num = 1/10 {</span>
<span id="cb14-6"><a href="coding.html#cb14-6"></a>        <span class="kw">gen</span> crop_<span class="ot">`crop&#39;</span>_<span class="ot">`plot_num&#39;</span> = <span class="st">&quot;`crop&#39;&quot;</span></span>
<span id="cb14-7"><a href="coding.html#cb14-7"></a>    }</span>
<span id="cb14-8"><a href="coding.html#cb14-8"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb15-1"><a href="coding.html#cb15-1"></a><span class="kw">local</span> sampleSize = <span class="ot">`c(N)&#39;</span></span>
<span id="cb15-2"><a href="coding.html#cb15-2"></a><span class="kw">if</span> (<span class="ot">`sampleSize&#39;</span> &lt;= 100) {</span>
<span id="cb15-3"><a href="coding.html#cb15-3"></a>    <span class="kw">gen</span> use_sample = 0</span>
<span id="cb15-4"><a href="coding.html#cb15-4"></a>}</span>
<span id="cb15-5"><a href="coding.html#cb15-5"></a><span class="kw">else</span> {</span>
<span id="cb15-6"><a href="coding.html#cb15-6"></a>    <span class="kw">gen</span> use_sample = 1</span>
<span id="cb15-7"><a href="coding.html#cb15-7"></a>}</span></code></pre></div>
<p><strong>BAD:</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb16-1"><a href="coding.html#cb16-1"></a>* Loop <span class="bn">over</span> crops</span>
<span id="cb16-2"><a href="coding.html#cb16-2"></a><span class="kw">foreach</span> crop <span class="kw">in</span> potato cassava maize {</span>
<span id="cb16-3"><a href="coding.html#cb16-3"></a>* Loop <span class="bn">over</span> plot number</span>
<span id="cb16-4"><a href="coding.html#cb16-4"></a><span class="kw">forvalues</span> plot_num = 1/10 {</span>
<span id="cb16-5"><a href="coding.html#cb16-5"></a><span class="kw">gen</span> crop_<span class="ot">`crop&#39;</span>_<span class="ot">`plot_num&#39;</span> = <span class="st">&quot;`crop&#39;&quot;</span></span>
<span id="cb16-6"><a href="coding.html#cb16-6"></a>}</span>
<span id="cb16-7"><a href="coding.html#cb16-7"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb17-1"><a href="coding.html#cb17-1"></a><span class="kw">local</span> sampleSize = <span class="ot">`c(N)&#39;</span></span>
<span id="cb17-2"><a href="coding.html#cb17-2"></a><span class="kw">if</span> (<span class="ot">`sampleSize&#39;</span> &lt;= 100) {</span>
<span id="cb17-3"><a href="coding.html#cb17-3"></a><span class="kw">gen</span> use_sample = 0</span>
<span id="cb17-4"><a href="coding.html#cb17-4"></a>}</span>
<span id="cb17-5"><a href="coding.html#cb17-5"></a><span class="kw">else</span> {</span>
<span id="cb17-6"><a href="coding.html#cb17-6"></a><span class="kw">gen</span> use_sample = 1</span>
<span id="cb17-7"><a href="coding.html#cb17-7"></a>}</span></code></pre></div>
</div>
<div id="writing-conditional-expressions" class="section level3">
<h3><span class="header-section-number">A.0.6</span> Writing conditional expressions</h3>
<p>All conditional (true/false) expressions should be within at least one set of parentheses.
The negation of logical expressions should use bang (<code>!</code>) and not tilde (<code>~</code>).
Always use explicit truth checks (<code>if `value' == 1</code>)
rather than implicits (<code>if `value'</code>).
Always use the <code>missing(`var')</code> function
instead of arguments like (<code>if `var' &gt;= .</code>).
Always consider whether missing values will affect the evaluation of conditional expressions.</p>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb18-1"><a href="coding.html#cb18-1"></a><span class="kw">replace</span> gender_string = <span class="st">&quot;Woman&quot;</span> <span class="kw">if</span> (gender == 1)</span>
<span id="cb18-2"><a href="coding.html#cb18-2"></a><span class="kw">replace</span> gender_string = <span class="st">&quot;Man&quot;</span>   <span class="kw">if</span> ((gender != 1) &amp; !<span class="fu">missing</span>(gender))</span></code></pre></div>
<p><strong>BAD:</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb19-1"><a href="coding.html#cb19-1"></a><span class="kw">replace</span> gender_string = <span class="st">&quot;Woman&quot;</span> <span class="kw">if</span> gender == 1</span>
<span id="cb19-2"><a href="coding.html#cb19-2"></a><span class="kw">replace</span> gender_string = <span class="st">&quot;Man&quot;</span>   <span class="kw">if</span> (gender ~= 1)</span></code></pre></div>
<p>Use <code>if-else</code> statements when applicable
even if you can express the same thing with two separate <code>if</code> statements.
When using <code>if-else</code> statements you are communicating to anyone reading your code
that the two cases are mutually exclusive, which makes your code more readable.
It is also less error-prone and easier to update if you want to change the condition.</p>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb20-1"><a href="coding.html#cb20-1"></a><span class="kw">if</span> (<span class="ot">`sampleSize&#39;</span> &lt;= 100) {</span>
<span id="cb20-2"><a href="coding.html#cb20-2"></a>    * <span class="kw">do</span> something</span>
<span id="cb20-3"><a href="coding.html#cb20-3"></a>}</span>
<span id="cb20-4"><a href="coding.html#cb20-4"></a><span class="kw">else</span> {</span>
<span id="cb20-5"><a href="coding.html#cb20-5"></a>    * <span class="kw">do</span> something <span class="kw">else</span></span>
<span id="cb20-6"><a href="coding.html#cb20-6"></a>}</span></code></pre></div>
<p><strong>BAD:</strong></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb21-1"><a href="coding.html#cb21-1"></a><span class="kw">if</span> (<span class="ot">`sampleSize&#39;</span> &lt;= 100) {</span>
<span id="cb21-2"><a href="coding.html#cb21-2"></a>    * <span class="kw">do</span> something</span>
<span id="cb21-3"><a href="coding.html#cb21-3"></a>}</span>
<span id="cb21-4"><a href="coding.html#cb21-4"></a><span class="kw">if</span> (<span class="ot">`sampleSize&#39;</span> &gt; 100) {</span>
<span id="cb21-5"><a href="coding.html#cb21-5"></a>    * <span class="kw">do</span> something <span class="kw">else</span></span>
<span id="cb21-6"><a href="coding.html#cb21-6"></a>}</span></code></pre></div>
</div>
<div id="writing-file-paths" class="section level3">
<h3><span class="header-section-number">A.0.7</span> Writing file paths</h3>
<p>All file paths should always be enclosed in double quotes,
and should always use forward slashes for folder hierarchies (<code>/</code>).
File names should be written in lower case with dashes (<code>my-file.dta</code>).
Mac and Linux computers cannot read file paths with backslashes,
and backslashes cannot easily be removed with find-and-replace
because the character has other functional uses in code.
File paths should always include the file extension
(<code>.dta</code>, <code>.do</code>, <code>.csv</code>, etc.).
Omitting the extension causes ambiguity
if another file with the same name is created
(even if there is a default file type).</p>
<p>File paths should also be absolute and dynamic.
<strong>Absolute</strong> means that all
file paths start at the root folder of the computer,
often <code>C:/</code> on a PC or <code>/Users/</code> on a Mac.
This ensures that you always get the correct file in the correct folder.
Do not use <code>cd</code> unless there is a function that requires it.
When using <code>cd</code>, it is easy to overwrite a file in another project folder.
Many Stata functions use <code>cd</code> and therefore the current directory may change without warning.
Relative file paths are common in many other programming languages,
but unless they are relative to the location of the file running the code,
this is a risky practice.
In Stata, relative file paths are relative to the current directory,
not to the code file being run.</p>
<p><strong>Dynamic</strong> file paths use global macros for the location of the root folder.
These globals should be set in a central master do-file.
This makes it possible to write file paths that work very similarly to relative paths.
It also achieves the functionality that setting <code>cd</code> is often intended to:
executing the code on a new system only requires updating file path globals in one location.
If global names are unique, there is no risk that files are saved in the incorrect project folder.
You can create multiple folder globals as needed and this is encouraged.</p>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb22-1"><a href="coding.html#cb22-1"></a><span class="kw">global</span> myDocs    = <span class="st">&quot;C:/Users/username/Documents&quot;</span></span>
<span id="cb22-2"><a href="coding.html#cb22-2"></a><span class="kw">global</span> myProject = <span class="st">&quot;${myDocs}/MyProject&quot;</span></span>
<span id="cb22-3"><a href="coding.html#cb22-3"></a><span class="kw">use</span> <span class="st">&quot;${myProject}/my-dataset.dta&quot;</span> , <span class="kw">clear</span></span></code></pre></div>
<p><strong>BAD:</strong></p>
<p><strong>Relative paths</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb23-1"><a href="coding.html#cb23-1"></a>cd <span class="st">&quot;C:/Users/username/Documents/MyProject&quot;</span></span>
<span id="cb23-2"><a href="coding.html#cb23-2"></a><span class="kw">use</span> MyDataset.dta</span></code></pre></div>
<p><strong>Static paths</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb24-1"><a href="coding.html#cb24-1"></a><span class="kw">use</span> <span class="st">&quot;C:/Users/username/Documents/MyProject/MyDataset.dta&quot;</span></span></code></pre></div>
</div>
<div id="line-breaks" class="section level3">
<h3><span class="header-section-number">A.0.8</span> Line breaks</h3>
<p>Long lines of code are difficult to read if you have to scroll left and right to see the full line of code.
When your line of code is wider than text on a regular paper, you should introduce a line break.
A common line breaking length is around 80 characters.
Stata’s do-file editor and other code editors provide a visible guide line.
Around that length, start a new line using <code>///</code>.
Using <code>///</code> breaks the line in the code editor,
while telling Stata that the same line of code continues on the next line.
Recent versions of the Stata do-file editor –
and many other code editors –
automatically wrap code lines that are too long,
but you should still use <code>///</code>
to make sure that the lines breaks are placed
where they are most readable.
The <code>///</code> breaks do not need to be horizontally aligned in code,
although you may prefer to if they have comments that read better aligned,
since indentations should reflect that the command continues to a new line.
Break lines where it makes functional sense.
You can write comments after <code>///</code> just as with <code>//</code>, and that is usually a good thing.</p>
<p>The <code>#delimit</code> command should only be used for advanced function programming
and is officially discouraged in analytical code.<a href="#fn303" class="footnote-ref" id="fnref303"><sup>303</sup></a>
Never, for any reason, use <code>/* */</code> to wrap a line:
it is distracting and difficult to follow compared to the use
of those characters to write regular comments.
Line breaks and indentations may be used to highlight the placement
of the <strong>option comma</strong> or other functional syntax in Stata commands.</p>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb25-1"><a href="coding.html#cb25-1"></a><span class="kw">graph</span> <span class="bn">hbar</span> invil      <span class="co">/// Proportion in village</span></span>
<span id="cb25-2"><a href="coding.html#cb25-2"></a>     <span class="kw">if</span> (priv == 1)   <span class="co">/// Private facilities only</span></span>
<span id="cb25-3"><a href="coding.html#cb25-3"></a>   , <span class="bn">over</span>(statename, <span class="kw">sort</span>(1) descending)      <span class="co">/// Order states by values</span></span>
<span id="cb25-4"><a href="coding.html#cb25-4"></a>     <span class="bn">blabel</span>(<span class="bn">bar</span>, <span class="kw">format</span>(%9.0f))               <span class="co">/// Label the bars</span></span>
<span id="cb25-5"><a href="coding.html#cb25-5"></a>     ylab(0 <span class="st">&quot;0%&quot;</span> 25 <span class="st">&quot;25%&quot;</span> 50 <span class="st">&quot;50%&quot;</span> 75 <span class="st">&quot;75%&quot;</span> 100 <span class="st">&quot;100%&quot;</span>) <span class="co">///</span></span>
<span id="cb25-6"><a href="coding.html#cb25-6"></a>     ytit(<span class="st">&quot;Share of private primary care visits made in own village&quot;</span>)</span></code></pre></div>
<p><strong>BAD:</strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb26-1"><a href="coding.html#cb26-1"></a>#delimit ;</span>
<span id="cb26-2"><a href="coding.html#cb26-2"></a><span class="kw">graph</span> <span class="bn">hbar</span></span>
<span id="cb26-3"><a href="coding.html#cb26-3"></a>    invil <span class="kw">if</span> (priv == 1)</span>
<span id="cb26-4"><a href="coding.html#cb26-4"></a>  , <span class="bn">over</span>(statename, <span class="kw">sort</span>(1) descending) <span class="bn">blabel</span>(<span class="bn">bar</span>, <span class="kw">format</span>(%9.0f))</span>
<span id="cb26-5"><a href="coding.html#cb26-5"></a>    ylab(0 <span class="st">&quot;0%&quot;</span> 25 <span class="st">&quot;25%&quot;</span> 50 <span class="st">&quot;50%&quot;</span> 75 <span class="st">&quot;75%&quot;</span> 100 <span class="st">&quot;100%&quot;</span>)</span>
<span id="cb26-6"><a href="coding.html#cb26-6"></a>    ytit(<span class="st">&quot;Share of private primary care visits made in own village&quot;</span>);</span>
<span id="cb26-7"><a href="coding.html#cb26-7"></a>#delimit <span class="kw">cr</span></span></code></pre></div>
<p><strong>UGLY:</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb27-1"><a href="coding.html#cb27-1"></a><span class="kw">graph</span> <span class="bn">hbar</span> <span class="co">/*</span></span>
<span id="cb27-2"><a href="coding.html#cb27-2"></a><span class="co">*/</span>    invil <span class="kw">if</span> (priv == 1)</span></code></pre></div>
</div>
<div id="using-boilerplate-code" class="section level3">
<h3><span class="header-section-number">A.0.9</span> Using boilerplate code</h3>
<p><strong>Boilerplate</strong> code consists of a few lines of code that always come at the top of the code file,
and its purpose is to harmonize settings across users
running the same code to the greatest degree possible.
There is no way in Stata to guarantee that any two installations
will always run code in exactly the same way.
In the vast majority of cases it does, but not always,
and boilerplate code can mitigate that risk.
We have developed the <code>ieboilstart</code> command
to implement many commonly-used boilerplate settings
that are optimized given your installation of Stata.
It requires two lines of code to execute the <code>version</code>
setting, which avoids differences in results due to different versions of Stata.
Among other things, it turns the <code>more</code> flag off
so code never hangs while waiting to display more output;
it turns <code>varabbrev</code> off so abbrevated variable names are rejected;
and it maximizes the allowed memory usage and matrix size
so that code is not rejected on other machines for violating system limits.
(For example, Stata/SE and Stata/IC, allow for different maximum numbers of variables,
and the same happens with Stata 14 and Stata 15,
so it may not be able to run code written in one of these version using another.)
Finally, it clears all stored information in Stata memory,
such as non-installed programs and globals,
getting as close as possible to opening Stata fresh.</p>
<p><strong>GOOD:</strong></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb28-1"><a href="coding.html#cb28-1"></a>ieboilstart, <span class="kw">version</span>(13.1)</span>
<span id="cb28-2"><a href="coding.html#cb28-2"></a><span class="ot">`r(version)&#39;</span></span></code></pre></div>
<p><strong>OK:</strong></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb29-1"><a href="coding.html#cb29-1"></a><span class="kw">set</span> <span class="kw">more</span> <span class="kw">off</span> , perm</span>
<span id="cb29-2"><a href="coding.html#cb29-2"></a><span class="kw">clear</span> <span class="ot">all</span></span>
<span id="cb29-3"><a href="coding.html#cb29-3"></a><span class="kw">set</span> <span class="dv">maxvar</span> 10000</span>
<span id="cb29-4"><a href="coding.html#cb29-4"></a><span class="kw">version</span> 13.1</span></code></pre></div>
</div>
<div id="miscellaneous-notes" class="section level3">
<h3><span class="header-section-number">A.0.10</span> Miscellaneous notes</h3>
<p>Write multiple graphs as <code>tw (xx)(xx)(xx)</code>, not <code>tw xx||xx||xx</code>.</p>
<p>In simple expressions, put spaces around each binary operator except <code>^</code>.
Therefore write <code>gen z = x + y`` and</code>x^2`.</p>
<p>When order of operations applies, you may adjust spacing and parentheses: write
<code>hours + (minutes/60) + (seconds/3600)</code>, not <code>hours + minutes / 60 + seconds / 3600</code>.
For long expressions, <code>+</code> and <code>-</code> operators should start the new line,
but <code>*</code> and <code>/</code> should be used inline. For example:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb30-1"><a href="coding.html#cb30-1"></a><span class="kw">gen</span> newvar = x <span class="co">///</span></span>
<span id="cb30-2"><a href="coding.html#cb30-2"></a>             - (<span class="fu">y</span>/2) <span class="co">///</span></span>
<span id="cb30-3"><a href="coding.html#cb30-3"></a>             + a * (b - c)</span></code></pre></div>
<p>Make sure your code doesn’t print very much to the results window as this is slow.
This can be accomplished by using <code>run file.do</code> rather than <code>do file.do</code>.
Interactive commands like <code>sum</code> or <code>tab</code> should be used sparingly in do-files,
unless they are for the purpose of getting <code>r()</code>-statistics.
In that case, consider using the <code>qui</code> prefix to prevent printing output.
It is also faster to get outputs from commands like <code>reg</code> using the <code>qui</code> prefix.</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="300">
<li id="fn300"><p>
<a href="https://dimewiki.worldbank.org/ietoolkit" class="uri">https://dimewiki.worldbank.org/ietoolkit</a><a href="coding.html#fnref300" class="footnote-back">↩︎</a></p></li>
<li id="fn301"><p>
<a href="https://dimewiki.worldbank.org/iefieldkit" class="uri">https://dimewiki.worldbank.org/iefieldkit</a><a href="coding.html#fnref301" class="footnote-back">↩︎</a></p></li>
<li id="fn302"><p>
<a href="https://ideas.repec.org/s/boc/bocode.html" class="uri">https://ideas.repec.org/s/boc/bocode.html</a><a href="coding.html#fnref302" class="footnote-back">↩︎</a></p></li>
<li id="fn303"><p>
<span class="citation">Cox (<a href="bibliography.html#ref-cox2005styleguide" role="doc-biblioref">2005</a>)</span><a href="coding.html#fnref303" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bringing-it-all-together.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["drip.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
